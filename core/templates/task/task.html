{% load static %}
<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="csrf-token" content="{{ csrf_token }}">
  <title>Ù„ÛŒØ³Øª Ú©Ø§Ø±Ù‡Ø§</title>
  <link rel="stylesheet" href="{% static 'CSS/main.css' %}" />
</head>
<body>
  <div class="todo-container">
    <h2>âœ… Ù„ÛŒØ³Øª Ú©Ø§Ø±Ù‡Ø§ÛŒ Ø±ÙˆØ²Ø§Ù†Ù‡</h2>

    <div class="input-section">
      <input type="text" id="todo-input" placeholder=" Ú©Ø§Ø±Ø§Øª ÛŒØ§Ø¯Øª Ù†Ø±Ù‡ğŸ˜… Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ù†ÙˆÛŒØ³" />
      <button onclick="addTodo()">â•</button>
    </div>

    <ul id="todo-list">
      {% for task in tasks %}
        <li data-id="{{ task.id }}" class="{% if task.done %}completed{% endif %}">
          <span>{{ task.task }}</span>
          <div class="actions">
            <button onclick="toggleDone({{ task.id }}, this.parentElement.parentElement)">âœ”</button>
            <button onclick="deleteTask({{ task.id }}, this.parentElement.parentElement)">ğŸ—‘</button>
          </div>
        </li>
      {% empty %}
        <li>.Ù‡ÛŒÚ† Ú©Ø§Ø±ÛŒ Ø§Ø¶Ø§ÙÙ‡ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª</li>
      {% endfor %}
    </ul>
     <div class="logout-container">
    <form method="post" action="{%url 'account:logout'%}">
      {% csrf_token %}
      <button type="submit" class="logout-button">ğŸšª Ø®Ø±ÙˆØ¬</button>
    </form>
  </div>

  </div>

<script>
  const addTaskUrl = "{% url 'task:add-task' %}";
</script>
<script src="{% static 'Js\main.js' %}"></script>
</body>
</html>